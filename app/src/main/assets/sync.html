<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Memories</title>
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <div id="main" class="container animatable">
      <img src="memories.svg" alt="Memories Logo" class="logo" />
      <p id="waiting" class="animatable">
        Waiting for login to complete <br />
        Keep this page open in the background
      </p>

      <div id="sync" class="p animatable invisible">
        You are now logged in to the server!
        <br /><br />
        You can set up automatic uploads from this device using the Nextcloud
        mobile app. Click the button below to download the app, or skip this
        step and continue.
        <br />

        <a
          class="m-button login-button"
          href="https://play.google.com/store/apps/details?id=com.nextcloud.client"
        >
          Set up automatic upload
        </a>
        <br />

        <p id="conn-error" class="error"></p>

        <button class="m-button link" onclick="openLocal()">Continue</button>
      </div>

      <div id="local-folders" class="p animatable invisible">
        Choose the folders on this device to show on your timeline. If no folders
        are visible here, you may need to grant the app storage permissions, or
        wait for the app to index your files.
        <br /><br />
        You can always change this in settings. Note that this does not affect
        automatic uploads.
        <br />

        <div id="folder-list"></div>

        <button class="m-button" onclick="start()">Continue</button>
      </div>
    </div>

    <script src="sync.js"></script>
  </body>
</html>
